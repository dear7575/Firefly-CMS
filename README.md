<img src="./docs/images/1131.png" width = "405" height = "511" alt="Firefly CMS" align=right />

<div align="center">

# Firefly CMS

> åŸºäº Firefly ä¸»é¢˜çš„åŠ¨æ€åšå®¢å†…å®¹ç®¡ç†ç³»ç»Ÿ
>
> ![Node.js >= 20](https://img.shields.io/badge/node.js-%3E%3D20-brightgreen)
![pnpm >= 9](https://img.shields.io/badge/pnpm-%3E%3D9-blue)
![Astro](https://img.shields.io/badge/Astro-5.x-orange)
![Python](https://img.shields.io/badge/Python-3.10+-blue)
![FastAPI](https://img.shields.io/badge/FastAPI-0.115+-green)
>
> [![Stars](https://img.shields.io/github/stars/dear7575/Firefly-CMS?style=social)](https://github.com/dear7575/Firefly-CMS/stargazers)
[![Forks](https://img.shields.io/github/forks/dear7575/Firefly-CMS?style=social)](https://github.com/dear7575/Firefly-CMS/network/members)
[![Issues](https://img.shields.io/github/issues/dear7575/Firefly-CMS)](https://github.com/dear7575/Firefly-CMS/issues)
>
> ![GitHub License](https://img.shields.io/github/license/dear7575/Firefly-CMS)
>
</div>

---

**Firefly CMS** æ˜¯åŸºäº [CuteLeaf/Firefly](https://github.com/CuteLeaf/Firefly)
ä¸»é¢˜çš„äºŒæ¬¡å¼€å‘é¡¹ç›®ï¼Œåœ¨ä¿ç•™åŸæœ‰ç²¾ç¾å‰ç«¯çš„åŸºç¡€ä¸Šï¼Œæ–°å¢äº†å®Œæ•´çš„åå°ç®¡ç†ç³»ç»Ÿï¼Œå®ç°äº†ä»é™æ€åšå®¢åˆ°åŠ¨æ€å†…å®¹ç®¡ç†ç³»ç»Ÿçš„å‡çº§ã€‚

## ğŸ†• äºŒæ¬¡å¼€å‘æ–°å¢åŠŸèƒ½

### åå°ç®¡ç†ç³»ç»Ÿ

- **FastAPI åç«¯** - åŸºäº Python çš„é«˜æ€§èƒ½å¼‚æ­¥ API æœåŠ¡
- **MySQL æ•°æ®åº“** - æ•°æ®æŒä¹…åŒ–å­˜å‚¨ï¼Œæ”¯æŒ UUID ä¸»é”®
- **JWT è®¤è¯** - å®‰å…¨çš„ç”¨æˆ·è®¤è¯æœºåˆ¶
- **RESTful API** - æ ‡å‡†åŒ–çš„æ¥å£è®¾è®¡

### ç®¡ç†åŠŸèƒ½

- **æ–‡ç« ç®¡ç†** - åœ¨çº¿ç¼–è¾‘å™¨ï¼ˆVditorï¼‰ã€è‰ç¨¿/å‘å¸ƒã€ç½®é¡¶æ’åºã€å¯†ç ä¿æŠ¤
- **åˆ†ç±»ç®¡ç†** - åˆ†ç±»çš„å¢åˆ æ”¹æŸ¥ã€é¢œè‰²æ ‡è¯†ã€å¯ç”¨/ç¦ç”¨
- **æ ‡ç­¾ç®¡ç†** - æ ‡ç­¾çš„å¢åˆ æ”¹æŸ¥ã€é¢œè‰²æ ‡è¯†ã€å¡ç‰‡å¼å¸ƒå±€
- **å‹é“¾ç®¡ç†** - å‹æƒ…é“¾æ¥ç®¡ç†ã€æ’åºæƒé‡ã€å¤´åƒ/æè¿°
- **åª’ä½“ç®¡ç†** - æ–‡ä»¶ä¸Šä¼ ã€é¢„è§ˆã€å¤åˆ¶é“¾æ¥ã€åˆ é™¤ä¸æ–‡ä»¶å¤¹ç®¡ç†
- **å…¬å‘Šç®¡ç†** - å…¬å‘Šçš„å¢åˆ æ”¹æŸ¥ã€æ˜¾ç¤º/éšè—ã€ç±»å‹é€‰æ‹©ï¼ˆinfo/warning/successï¼‰
- **ç³»ç»Ÿè®¾ç½®** - ç«™ç‚¹ä¿¡æ¯ã€ä¸ªäººèµ„æ–™ã€ä¸»é¢˜é…ç½®ç­‰åŠ¨æ€ç®¡ç†
- **ç¤¾äº¤é“¾æ¥** - ç¤¾äº¤åª’ä½“é“¾æ¥ç®¡ç†
- **è®¿é—®ç»Ÿè®¡** - æµè§ˆé‡/è®¿å®¢æ•°ã€è¿‘ 7 å¤©è¶‹åŠ¿ã€çƒ­é—¨æ–‡ç« æ’è¡Œ
- **è®¿é—®æ—¥å¿—** - ç™»å½•è®°å½•ã€API è®¿é—®ç»Ÿè®¡ã€æ—¥å¿—æ¸…ç†

### åå° UI ç‰¹æ€§

- **ç°ä»£åŒ–è®¾è®¡** - ç»ç’ƒæ€è¾“å…¥æ¡†ã€å¡ç‰‡å¼å¸ƒå±€ã€ç²¾è‡´é˜´å½±
- **æ·±è‰²æ¨¡å¼** - å®Œæ•´çš„æ·±è‰²ä¸»é¢˜æ”¯æŒï¼Œè‡ªåŠ¨é€‚é…ç³»ç»Ÿåå¥½
- **å“åº”å¼å¸ƒå±€** - å¯æŠ˜å ä¾§è¾¹æ ï¼Œå®Œç¾é€‚é…å„ç§å±å¹•å°ºå¯¸
- **å¤šé¡µç­¾æ¨¡å¼** - æ ‡ç­¾æ ç®¡ç†ï¼Œæ”¯æŒåˆ·æ–°å½“å‰ã€å…³é—­å…¶ä»–ã€åˆ·æ–°åä¿æŒ
- **äº¤äº’åŠ¨æ•ˆ** - æ‚¬åœæ•ˆæœã€èšç„¦å‘å…‰ã€å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»

### åŠ¨æ€é…ç½®

- **ç«™ç‚¹ä¿¡æ¯** - æ ‡é¢˜ã€å‰¯æ ‡é¢˜ã€æè¿°ã€å…³é”®è¯ç­‰
- **ä¸ªäººèµ„æ–™** - å¤´åƒã€æ˜µç§°ã€ç®€ä»‹
- **ç¤¾äº¤é“¾æ¥** - åœ¨åå°ã€Œç¤¾äº¤é“¾æ¥ã€é¡µé¢é›†ä¸­ç»´æŠ¤å¹³å°å›¾æ ‡ã€é“¾æ¥ã€æ’åºå’Œå¯ç”¨çŠ¶æ€
- **å“ç‰Œè®¾ç½®** - Logoã€å¯¼èˆªæ æ ‡é¢˜
- **æ¨ªå¹…è®¾ç½®** - é¦–é¡µæ¨ªå¹…æ–‡å­—
- **ä¸»é¢˜è®¾ç½®** - ä¸»é¢˜è‰²ã€é»˜è®¤æ¨¡å¼
- **é¡µè„šè®¾ç½®** - ICP å¤‡æ¡ˆã€ç‰ˆæƒä¿¡æ¯
- **å…¬å‘Šé…ç½®** - å…¬å‘Šå†…å®¹åŠ¨æ€ç®¡ç†ï¼Œæ”¯æŒå¤šç§ç±»å‹
- **å…³äºé¡µé¢** - å…³äºæˆ‘é¡µé¢å†…å®¹åŠ¨æ€ç®¡ç†

---

## âœ¨ åŸæœ‰åŠŸèƒ½ç‰¹æ€§

> ä»¥ä¸‹åŠŸèƒ½ç»§æ‰¿è‡ª [CuteLeaf/Firefly](https://github.com/CuteLeaf/Firefly)

### æ ¸å¿ƒåŠŸèƒ½

- [x] **Astro + Tailwind CSS** - åŸºäºç°ä»£æŠ€æœ¯æ ˆçš„è¶…å¿«é™æ€ç«™ç‚¹ç”Ÿæˆ
- [x] **æµç•…åŠ¨ç”»** - Swup é¡µé¢è¿‡æ¸¡åŠ¨ç”»ï¼Œæä¾›ä¸æ»‘çš„æµè§ˆä½“éªŒ
- [x] **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢ç«¯ã€å¹³æ¿å’Œç§»åŠ¨è®¾å¤‡
- [x] **å¤šè¯­è¨€æ”¯æŒ** - i18n å›½é™…åŒ–ï¼Œæ”¯æŒç®€ä½“ä¸­æ–‡ã€ç¹ä½“ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ã€ä¿„è¯­
- [x] **å…¨æ–‡æœç´¢** - åŸºäº Pagefind çš„å®¢æˆ·ç«¯æœç´¢ï¼Œæ”¯æŒ MeiliSearch

### ä¸ªæ€§åŒ–

- [x] **ä¾§è¾¹æ ** - æ”¯æŒé…ç½®å•ä¾§è¾¹æ ã€åŒä¾§è¾¹æ 
- [x] **æ–‡ç« å¸ƒå±€** - åˆ—è¡¨ã€ç½‘æ ¼ã€ç€‘å¸ƒæµå¸ƒå±€
- [x] **å£çº¸æ¨¡å¼** - æ¨ªå¹…å£çº¸ã€å…¨å±å£çº¸ã€çº¯è‰²èƒŒæ™¯
- [x] **ä¸»é¢˜è‰²** - 360Â° è‰²ç›¸è°ƒèŠ‚ï¼Œäº®è‰²/æš—è‰²/è·Ÿéšç³»ç»Ÿ

### é¡µé¢ç»„ä»¶

- [x] **ç•™è¨€æ¿** - é›†æˆè¯„è®ºç³»ç»Ÿ
- [x] **å…¬å‘Šæ ** - é¡¶éƒ¨å…¬å‘Šæç¤º
- [x] **çœ‹æ¿å¨˜** - Spine å’Œ Live2D åŠ¨ç”»
- [x] **ç«™ç‚¹ç»Ÿè®¡** - æ–‡ç« æ•°ã€åˆ†ç±»æ•°ã€æ ‡ç­¾æ•°ã€æ€»å­—æ•°ã€è¿è¡Œæ—¶é•¿
- [x] **ç«™ç‚¹æ—¥å†** - å½“æœˆæ—¥å†åŠå‘å¸ƒæ–‡ç« 
- [x] **åˆ†äº«æµ·æŠ¥** - æ–‡ç« åˆ†äº«æµ·æŠ¥ç”Ÿæˆ
- [x] **å‹æƒ…é“¾æ¥** - ç²¾ç¾å‹é“¾å¡ç‰‡
- [x] **ç•ªç»„è®¡åˆ’** - Bangumi API è¿½ç•ªè®°å½•
- [x] **è¯„è®ºç³»ç»Ÿ** - Twikooã€Walineã€Giscusã€Disqusã€Artalk
- [x] **éŸ³ä¹æ’­æ”¾å™¨** - APlayer + Meting API

### å†…å®¹å¢å¼º

- [x] **å›¾ç‰‡ç¯ç®±** - Fancybox å›¾ç‰‡é¢„è§ˆ
- [x] **æ–‡ç« ç›®å½•** - åŠ¨æ€ç›®å½•ã€é”šç‚¹è·³è½¬
- [x] **ä»£ç é«˜äº®** - Expressive Code
- [x] **æ•°å­¦å…¬å¼** - KaTeX æ¸²æŸ“
- [x] **éšæœºå°é¢** - API éšæœºå°é¢å›¾

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### éƒ¨ç½²æ–¹å¼

#### ğŸ³ æ¨èï¼šDocker éƒ¨ç½²ï¼ˆé€‚åˆç”Ÿäº§ç¯å¢ƒï¼‰

æœ€ç®€å•çš„æ–¹å¼ï¼Œåªéœ€å‡ ä¸ªå‘½ä»¤å³å¯å¯åŠ¨æ•´ä¸ªç³»ç»Ÿï¼š

```bash
# Linux/Mac ç”¨æˆ·
chmod +x docker-start.sh
./docker-start.sh

# Windows ç”¨æˆ·
docker-start.bat
```

æˆ–æ‰‹åŠ¨å¯åŠ¨ï¼š

```bash
docker-compose up -d
```

è®¿é—®åœ°å€ï¼š

- ğŸŒ ç½‘ç«™é¦–é¡µï¼š`http://localhost`
- ğŸ“Š åå°ç®¡ç†ï¼š`http://localhost/admin`
- ğŸ“š API æ–‡æ¡£ï¼š`http://localhost/api/docs`

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ [Docker éƒ¨ç½²æŒ‡å—](./docs/DOCKER_DEPLOYMENT.md)

---

#### ğŸ’» å¼€å‘ç¯å¢ƒï¼šæ‰‹åŠ¨éƒ¨ç½²

### ç¯å¢ƒè¦æ±‚

**å‰ç«¯ï¼š**

- Node.js >= 20
- pnpm >= 9

**åç«¯ï¼š**

- Python >= 3.10
- MySQL >= 5.7

**Docker éƒ¨ç½²ï¼š**

- Docker >= 20.10
- Docker Compose >= 2.0

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/dear7575/Firefly-CMS.git
cd Firefly-CMS
```

### 2. åç«¯éƒ¨ç½²

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# é…ç½®æ•°æ®åº“ï¼ˆç¼–è¾‘ database.py ä¸­çš„è¿æ¥ä¿¡æ¯ï¼‰
# DATABASE_URL = "mysql+pymysql://ç”¨æˆ·å:å¯†ç @ä¸»æœº:ç«¯å£/æ•°æ®åº“å"

# åˆå§‹åŒ–æ•°æ®åº“ï¼ˆé¦–æ¬¡éƒ¨ç½²å¿…é¡»æ‰§è¡Œï¼‰
python setup.py                  # åŸºç¡€åˆå§‹åŒ–ï¼ˆè¡¨ç»“æ„ + ç®¡ç†å‘˜ + é»˜è®¤è®¾ç½®ï¼‰
# æˆ–
python setup.py --demo           # åŸºç¡€åˆå§‹åŒ– + æ¼”ç¤ºæ•°æ®ï¼ˆåˆ†ç±»ã€æ ‡ç­¾ã€ç¤ºä¾‹æ–‡ç« ï¼‰
# æˆ–
python setup.py --full           # å®Œæ•´åˆå§‹åŒ–ï¼ˆåŸºç¡€ + æ¼”ç¤ºæ•°æ® + å‰ç«¯é…ç½®å¯¼å…¥ï¼‰
# æˆ–
python setup.py --import-posts   # å¯¼å…¥é™æ€ Markdown æ–‡ç« åˆ°æ•°æ®åº“
# æˆ–
python setup.py --reset          # é‡ç½®æ•°æ®åº“ï¼ˆå±é™©ï¼šåˆ é™¤æ‰€æœ‰æ•°æ®åé‡æ–°åˆå§‹åŒ–ï¼‰

# å¯åŠ¨åç«¯æœåŠ¡
uvicorn main:app --host 0.0.0.0 --port 8000 --reload
```

åç«¯ API æ–‡æ¡£ï¼š`http://localhost:8000/docs`

### 3. å‰ç«¯éƒ¨ç½²

```bash
# è¿”å›é¡¹ç›®æ ¹ç›®å½•
cd ..

# å®‰è£…ä¾èµ–
pnpm install

# âš ï¸ å¿…é¡»é…ç½® API åœ°å€
# å¤åˆ¶ç¤ºä¾‹é…ç½®æ–‡ä»¶:
cp .env .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½® PUBLIC_API_URL
# å¼€å‘ç¯å¢ƒç¤ºä¾‹: PUBLIC_API_URL=http://localhost:8000
# ç”Ÿäº§ç¯å¢ƒç¤ºä¾‹: PUBLIC_API_URL=https://api.yourdomain.com

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

å‰ç«¯è®¿é—®ï¼š`http://localhost:4321`
åå°ç®¡ç†ï¼š`http://localhost:4321/admin/`

### 4. é»˜è®¤ç®¡ç†å‘˜è´¦å·

é¦–æ¬¡å¯åŠ¨åç«¯ä¼šè‡ªåŠ¨åˆ›å»ºé»˜è®¤ç®¡ç†å‘˜ï¼š

- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin123`

**è¯·ç™»å½•åç«‹å³ä¿®æ”¹å¯†ç ï¼**

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
Firefly-CMS/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ main.py             # FastAPI å…¥å£
â”‚   â”œâ”€â”€ setup.py            # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ models.py           # æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ database.py         # æ•°æ®åº“é…ç½®
â”‚   â”œâ”€â”€ auth.py             # è®¤è¯æ¨¡å—
â”‚   â”œâ”€â”€ routes/             # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ posts.py        # æ–‡ç« æ¥å£
â”‚   â”‚   â”œâ”€â”€ categories.py   # åˆ†ç±»æ¥å£
â”‚   â”‚   â”œâ”€â”€ tags.py         # æ ‡ç­¾æ¥å£
â”‚   â”‚   â”œâ”€â”€ friends.py      # å‹é“¾æ¥å£
â”‚   â”‚   â”œâ”€â”€ settings.py     # è®¾ç½®æ¥å£
â”‚   â”‚   â”œâ”€â”€ social_links.py # ç¤¾äº¤é“¾æ¥æ¥å£
â”‚   â”‚   â”œâ”€â”€ logs.py         # æ—¥å¿—æ¥å£
â”‚   â”‚   â””â”€â”€ auth.py         # è®¤è¯æ¥å£
â”‚   â””â”€â”€ requirements.txt    # Python ä¾èµ–
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ admin/          # åå°ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ services/           # å‰ç«¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api.ts          # API è°ƒç”¨
â”‚   â”‚   â””â”€â”€ siteSettings.ts # åŠ¨æ€é…ç½®
â”‚   â””â”€â”€ ...                 # å…¶ä»–å‰ç«¯æ–‡ä»¶
â””â”€â”€ ...
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯é…ç½®

ç¼–è¾‘ `backend/database.py`ï¼š

```python
DATABASE_URL = "mysql+pymysql://ç”¨æˆ·å:å¯†ç @ä¸»æœº:ç«¯å£/æ•°æ®åº“å?charset=utf8mb4"
```

### å‰ç«¯é…ç½®

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
PUBLIC_API_URL=http://localhost:8000
```

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

**æ¨èä½¿ç”¨ Docker éƒ¨ç½²ï¼š**

- ğŸ“– è¯¦è§ [Docker éƒ¨ç½²æŒ‡å—](./docs/DOCKER_DEPLOYMENT.md)

**æ‰‹åŠ¨éƒ¨ç½²ï¼š**

1. **åç«¯**ï¼šä½¿ç”¨ Gunicorn + Uvicorn éƒ¨ç½²
   ```bash
   gunicorn main:app -w 4 -k uvicorn.workers.UvicornWorker -b 0.0.0.0:8000
   ```

2. **å‰ç«¯**ï¼šæ„å»ºé™æ€æ–‡ä»¶æˆ–ä½¿ç”¨ SSR æ¨¡å¼
   ```bash
   pnpm build
   ```

---

## ğŸ™ è‡´è°¢

### åŸé¡¹ç›®

- **[CuteLeaf/Firefly](https://github.com/CuteLeaf/Firefly)** -
  æœ¬é¡¹ç›®åŸºäºæ­¤ä¸»é¢˜äºŒæ¬¡å¼€å‘ï¼Œæ„Ÿè°¢ [CuteLeaf](https://github.com/CuteLeaf) çš„å¼€æºè´¡çŒ®
- **[saicaca/fuwari](https://github.com/saicaca/fuwari)** - Firefly
  çš„ä¸Šæ¸¸é¡¹ç›®ï¼Œæ„Ÿè°¢ [saicaca](https://github.com/saicaca) çš„åŸåˆ›è®¾è®¡

### æŠ€æœ¯æ ˆ

- [Astro](https://astro.build) - å‰ç«¯æ¡†æ¶
- [Tailwind CSS](https://tailwindcss.com) - CSS æ¡†æ¶
- [FastAPI](https://fastapi.tiangolo.com) - åç«¯æ¡†æ¶
- [SQLAlchemy](https://www.sqlalchemy.org) - ORM
- [Vditor](https://github.com/Vanessa219/vditor) - Markdown ç¼–è¾‘å™¨

---

## ğŸ“ è®¸å¯åè®®

æœ¬é¡¹ç›®éµå¾ª [MIT License](./LICENSE) å¼€æºåè®®ã€‚

**ç‰ˆæƒå£°æ˜ï¼š**

- Copyright (c) 2024 [saicaca](https://github.com/saicaca) - åŸå§‹ Fuwari é¡¹ç›®
- Copyright (c) 2025 [CuteLeaf](https://github.com/CuteLeaf) - Firefly ä¸»é¢˜
- Copyright (c) 2025 [dear7575](https://github.com/dear7575) - Firefly CMS äºŒæ¬¡å¼€å‘

æ ¹æ® MIT è®¸å¯è¯ï¼Œä½ å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘æœ¬é¡¹ç›®ï¼Œä½†éœ€ä¿ç•™ä¸Šè¿°ç‰ˆæƒå£°æ˜ã€‚

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ [Issue](https://github.com/dear7575/Firefly-CMS/issues)
æˆ– [Pull Request](https://github.com/dear7575/Firefly-CMS/pulls)ï¼

